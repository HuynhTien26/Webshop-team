<!-- File này tui tham khảo thôi, đừng quan tâm á -->

<!doctype html>
<html lang="vi">
    <head>
        <title>Trang chủ | Pocky Doll</title>
    </head>
    <body>
        <!-- Guest view -->
        <div id="guestView">
            <h1>Welcome to Pocky Doll</h1>
            <p>This is the public landing page.</p>
            <a href="login.html">Đăng nhập</a> |
            <a href="signup.html">Đăng ký</a>
        </div>

        <!-- Logged-in view -->
        <div id="userView" style="display: none">
            <h1>Xin chào, <span id="username"></span>!</h1>
            <p>Bạn đã đăng nhập thành công.</p>
            <button id="logoutBtn">Đăng xuất</button>
        </div>

        <script>
            const loggedUser = sessionStorage.getItem("loggedInUser");
            const guestView = document.getElementById("guestView");
            const userView = document.getElementById("userView");
            const usernameSpan = document.getElementById("username");
            const logoutBtn = document.getElementById("logoutBtn");

            if (loggedUser) {
                guestView.style.display = "none";
                userView.style.display = "block";
                usernameSpan.textContent = loggedUser;
            } else {
                guestView.style.display = "block";
                userView.style.display = "none";
            }

            if (logoutBtn) {
                logoutBtn.addEventListener("click", () => {
                    sessionStorage.removeItem("loggedInUser");
                    window.location.reload(); // refresh to show guest view again
                });
            }
        </script>
    </body>
</html>
