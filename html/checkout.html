<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X√°c Nh·∫≠n ƒê∆°n H√†ng & Thanh To√°n</title>
    
    <link rel="stylesheet" href="../../assets/css/checkout.css">
    <link href="../../assets/icon/fontawesome-free-7.1.0-web/css/all.min.css" rel="stylesheet">
</head>
<body>
    <h1 class="page-title">X√ÅC NH·∫¨N ƒê∆†N H√ÄNG</h1>

    <div class="login-card">
        <h2>Ki·ªÉm tra v√† X√°c nh·∫≠n th√¥ng tin</h2>

        <div class="order-section">
            <h3><i class="fa-solid fa-cart-shopping"></i> S·∫£n ph·∫©m ƒë√£ ƒë·∫∑t</h3>
            
            <div id="product-items-container">
                <p style="text-align: center; opacity: 0.7;">ƒêang t·∫£i chi ti·∫øt ƒë∆°n h√†ng...</p>
            </div>
            
            <div class="final-total">
                T·ªïng gi√° tr·ªã ƒë∆°n h√†ng: <span id="final-total">0 VNƒê</span>
            </div>
        </div>

        <div class="order-section" style="border-bottom: none;">
            <h3><i class="fa-solid fa-house"></i> Th√¥ng tin nh·∫≠n h√†ng</h3>
            
            <div class="address-toggle">
                <button id="useExistingAddressBtn" class="active">S·ª≠ d·ª•ng ƒë·ªãa ch·ªâ c√≥ s·∫µn</button>
                <button id="useNewAddressBtn">Nh·∫≠p ƒë·ªãa ch·ªâ m·ªõi</button>
            </div>

            <div id="existingAddressMode">
                <p><strong>ƒê·ªãa ch·ªâ ƒë√£ l∆∞u:</strong></p>
                <div class="current-address-display" id="saved-address-display">
                    <p style="margin: 0; font-weight: bold;">T√™n: <span id="shipping-name">[T√™n Kh√°ch H√†ng]</span></p>
                    <p style="margin: 5px 0 0 0;">ƒê·ªãa ch·ªâ: <span id="shipping-address">ƒêang t·∫£i ƒë·ªãa ch·ªâ...</span></p>
                    <p style="margin: 5px 0 0 0;">SƒêT: <span id="shipping-phone">09xx.xxx.xxx</span></p>
                </div>
                <p style="font-size: 0.9em; opacity: 0.8;">(Ch·ªçn "Nh·∫≠p ƒë·ªãa ch·ªâ m·ªõi" n·∫øu mu·ªën giao t·ªõi n∆°i kh√°c)</p>
            </div>
            
            <div id="newAddressMode" style="display: none;">
                <form id="newAddressForm" onsubmit="return false;">
                    <div class="address-form-new"> 
                        <input type="text" id="new_name" placeholder="H·ªç v√† T√™n" required>
                        <input type="tel" id="new_phone" placeholder="S·ªë ƒëi·ªán tho·∫°i" required>
                        <input type="text" id="new_address_detail" placeholder="S·ªë nh√†, T√™n ƒë∆∞·ªùng..." required>
                        
                        <div class="input-group"> 
                            <select id="new_province" required>
                                <option value="">‚Äî Ch·ªçn T·ªânh/Th√†nh ‚Äî</option>
                                <option value="TP. H·ªì Ch√≠ Minh">TP. H·ªì Ch√≠ Minh</option>
                                <option value="H√† N·ªôi">H√† N·ªôi</option>
                            </select>
                            <select id="new_district" required>
                                <option value="">‚Äî Ch·ªçn Qu·∫≠n/Huy·ªán ‚Äî</option>
                                <option value="Qu·∫≠n 1">Qu·∫≠n 1</option>
                                <option value="Huy·ªán Nh√† B√®">Huy·ªán Nh√† B√®</option>
                            </select>
                        </div>
                    </div>
                </form>
            </div>

            <h3 style="margin-top: 25px;">üí≥ Ph∆∞∆°ng th·ª©c thanh to√°n</h3>
            <div style="background: rgba(240, 240, 240, 0.5); padding: 15px; border-radius: 8px;">
                <label style="display: block; margin-bottom: 10px; font-size: 1.1em;">
                    <input type="radio" name="payment_method" value="COD" checked>
                    Thanh to√°n khi nh·∫≠n h√†ng (COD)
                </label>
                <label style="display: block; font-size: 1.1em;">
                    <input type="radio" name="payment_method" value="BANK">
                    Chuy·ªÉn kho·∫£n Ng√¢n h√†ng
                </label>
            </div>
        </div>
        
        <button class="confirm-button" id="confirmOrderBtn">
            HO√ÄN T·∫§T ƒê·∫∂T H√ÄNG
        </button>
    </div>
 
    <div id="customModalBackdrop" class="modal-backdrop" style="display: none;">
        <div id="customModalContent" class="modal-content">
            <h3 id="modalTitle" style="text-align: center; color: white;">Th√¥ng b√°o ƒê·∫∑t h√†ng</h3>
            <p id="modalMessage" style="white-space: pre-line; margin-bottom: 20px;"></p>
            <button id="modalCloseBtn" class="confirm-button" style="width: 100px; margin: 0 auto;">OK</button>
        </div>
    </div>

    <script src="../../assets/js/checkout.js"></script>
</body>
</html>
